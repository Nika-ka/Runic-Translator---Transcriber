<script type="text/javascript">
var INPUT_CHARACTERS_VISIBLE=false;	
var validRunes=[
				{ch:'f',	rune:'<img src="images/runy-pismo/fehu.gif">'	},
				{ch:'u',	rune:'<img src="images/runy-pismo/uruz.gif">'	},
				{ch:'th',	rune:'<img src="images/runy-pismo/thurisaz.gif">'},
				{ch:'a',	rune:'<img src="images/runy-pismo/ansuz.gif">'   },
				{ch:'r',	rune:'<img src="images/runy-pismo/raidho.gif">'  },
				{ch:'c',	rune:'<img src="images/runy-pismo/kenaz.gif">'   },
				{ch:'k',	rune:'<img src="images/runy-pismo/kenaz.gif">'   },
				{ch:'ch',	rune:'<img src="images/runy-pismo/kenaz.gif"><img src="images/runy-pismo/jera.gif">'},
				{ch:'q',	rune:'<img src="images/runy-pismo/kenaz.gif"><img src="images/runy-pismo/wunjo.gif">'},
				{ch:'x',	rune:'<img src="images/runy-pismo/kenaz.gif"><img src="images/runy-pismo/sowilo.gif">'},
				{ch:'g',	rune:'<img src="images/runy-pismo/gebo.gif">'	},
				{ch:'v',	rune:'<img src="images/runy-pismo/wunjo.gif">'   },
				{ch:'w',	rune:'<img src="images/runy-pismo/wunjo.gif">'   },
				{ch:'h',	rune:'<img src="images/runy-pismo/hagalaz.gif">' },
				{ch:'n',	rune:'<img src="images/runy-pismo/nauthiz.gif">' },
				{ch:'i',	rune:'<img src="images/runy-pismo/isa.gif">'		},
				{ch:'j',	rune:'<img src="images/runy-pismo/jera.gif">'	},
				{ch:'y',	rune:'<img src="images/runy-pismo/jera.gif">'	},
				{ch:'ei',	rune:'<img src="images/runy-pismo/eihwaz.gif">'  },
				{ch:'p',	rune:'<img src="images/runy-pismo/perthro.gif">' },
				{ch:'z',	rune:'<img src="images/runy-pismo/algiz.gif">'   },
				{ch:'s',	rune:'<img src="images/runy-pismo/sowilo.gif">'  },
				{ch:'t',	rune:'<img src="images/runy-pismo/tiwaz.gif">'   },
				{ch:'b',	rune:'<img src="images/runy-pismo/berkano.gif">' },
				{ch:'e',	rune:'<img src="images/runy-pismo/ehwaz.gif">'   },
				{ch:'m',	rune:'<img src="images/runy-pismo/mannaz.gif">'  },
				{ch:'l',	rune:'<img src="images/runy-pismo/laguz.gif">'   },
				{ch:'ng',	rune:'<img src="images/runy-pismo/ingwaz.gif">'  },
				{ch:'d',	rune:'<img src="images/runy-pismo/dagaz.gif">'   },
				{ch:'o',	rune:'<img src="images/runy-pismo/othala.gif">'  },
				{ch:' ',	rune:'<br>'  }
				];

var longRunes=[];		
var runes=new Array();	
function generateLongRunes() {
	for (var i=0;i<validRunes.length;i++) {
		if (validRunes[i].ch.length>1) {
			longRunes[longRunes.length]=validRunes[i].ch;
		}
	}
}
function isValidRune(rune) {    
    for (var i=0;i<validRunes.length;i++) {
        if (validRunes[i].ch==rune) {
            return true;
        }
    }
    return false;
}
function completePrevRune(ch) {
    var longRunes=["th","ei","ng"];    /* Runes represented with more than one character (could be generated by reading the validRunes array) */
    for (var i=0;i<longRunes.length;i++) {
        if (runes[runes.length-1]+ch == longRunes[i].slice(0,(runes[runes.length-1]+ch).length)) {
            return true;
        }
    }
    return false;
}
function addRune(ch) {
    if (completePrevRune(ch)){    
        runes[runes.length-1]+=ch;
    }else {
        runes[runes.length]=ch;
    }
}

function setRunes() {    
    runes=[];
    for (var i=0;i<txtInput.value.length;i++) {
        addRune(txtInput.value.charAt(i));
    }
}

function checkInput() {
    var key=event.keyCode;   
    if (key==13) {
        prelozitruny();
    }
}

function prelozitruny() {
    rune.innerHTML="";
    setRunes();
    debug.innerHTML=runes;
    for (var i=0;i<runes.length;i++) {
        for (var j=0;j<validRunes.length;j++) {
            if (validRunes[j].ch==runes[i]) {
                rune.innerHTML+=validRunes[j].rune;
            }
        }
    }
}
</script>	
<h3 class="decofont">Runic Translator</h3>
<strong>Váš text:</strong><br>
<input type=text name=name value="" size=20 id=txtInput onkeydown="checkInput();">
<input type=submit name=Button value="Přeložit" onclick="prelozitruny();">
<p><strong>Runes:</strong><div id="rune"></div></p>
<p><strong>Letters:</strong><div id="debug"></div></p>
